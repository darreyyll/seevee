{"remainingRequest":"/Users/darylkoh/Downloads/IS4302 PROJECT/AAA_TEST_20210317/VUE APP/seevee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/darylkoh/Downloads/IS4302 PROJECT/AAA_TEST_20210317/VUE APP/seevee/src/components/InstitutionMint.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/darylkoh/Downloads/IS4302 PROJECT/AAA_TEST_20210317/VUE APP/seevee/src/components/InstitutionMint.vue","mtime":1616786185099},{"path":"/Users/darylkoh/Downloads/IS4302 PROJECT/AAA_TEST_20210317/VUE APP/seevee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darylkoh/Downloads/IS4302 PROJECT/AAA_TEST_20210317/VUE APP/seevee/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/darylkoh/Downloads/IS4302 PROJECT/AAA_TEST_20210317/VUE APP/seevee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darylkoh/Downloads/IS4302 PROJECT/AAA_TEST_20210317/VUE APP/seevee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgZGF0YWJhc2UgZnJvbSAnLi4vZmlyZWJhc2UuanMnIC8vdG8gbG9nIG91ciBkYXRhCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFwcCIsCiAgY29tcHV0ZWQ6IHsKICAgICAgLi4ubWFwR2V0dGVycygiYWNjb3VudHMiLFsiYWN0aXZlQWNjb3VudCIsImFjdGl2ZUJhbGFuY2UiXSksCiAgICAgIC4uLm1hcEdldHRlcnMoImRyaXp6bGUiLFsiZHJpenpsZUluc3RhbmNlIiwiaXNEcml6emxlSW5pdGlhbGl6ZWQiXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICAgIGFzeW5jIGdldEdyYWRlKCkgewogICAgICAgICAgLy8gUmV0cmlldmUgdmFsdWUgdXNpbmcgIi5jYWxsKCknCiAgICAgICAgICB0aGlzLnZpZXcuZ3JhZGUgPSBhd2FpdCB0aGlzLmRyaXp6bGVJbnN0YW5jZQogICAgICAgICAgICAuY29udHJhY3RzCiAgICAgICAgICAgIC5DcmVkZW50aWFsCiAgICAgICAgICAgIC5tZXRob2RzCiAgICAgICAgICAgIC52aWV3R3JhZGUodGhpcy52aWV3LmFkZHIsIHRoaXMudmlldy5tb2RDb2RlKQogICAgICAgICAgICAuY2FsbCgpOyAKICAgICAgIH0sCiAgICAgICBhc3luYyBtaW50VG9rZW4oKSB7CiAgICAgICAgICAgLy8gUmV0cmlldmUgdmFsdWUgdXNpbmcgIi5zZW5kKCkiCiAgICAgICAgICAgYXdhaXQgdGhpcy5kcml6emxlSW5zdGFuY2UKICAgICAgICAgICAgIC5jb250cmFjdHMKICAgICAgICAgICAgIC5DcmVkZW50aWFsCiAgICAgICAgICAgICAubWV0aG9kcwogICAgICAgICAgICAgLm1pbnRBY2FkKHRoaXMubWludC5hZGRyLCB0aGlzLm1pbnQubW9kQ29kZSwgdGhpcy5taW50LmdyYWRlKQogICAgICAgICAgICAgLnNlbmQoKTsKICAgICAgICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCJzdHVkZW50cyIpLmRvYyh0aGlzLm1pbnQuYWRkcikuZ2V0KCkudGhlbihkb2MgPT4gewogICAgICAgICAgICAgICBpZiAoIWRvYy5leGlzdHMpIHsKICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oInN0dWRlbnRzIikuZG9jKHRoaXMubWludC5hZGRyKS5zZXQoe30pOwogICAgICAgICAgICAgICAgICAgZGF0YWJhc2UuY29sbGVjdGlvbigic3R1ZGVudHMiKS5kb2ModGhpcy5taW50LmFkZHIpLmNvbGxlY3Rpb24oImFjYWRzIikuYWRkKHsKICAgICAgICAgICAgICAgICAgICAgICBzdHVkZW50QWRkcmVzczogdGhpcy5taW50LmFkZHIsCiAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29kZTogdGhpcy5taW50Lm1vZENvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGVBdHRhaW5lZDogdGhpcy5taW50LmdyYWRlLAogICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCJzdHVkZW50cyIpLmRvYyh0aGlzLm1pbnQuYWRkcikuY29sbGVjdGlvbigiYWNhZHMiKS5hZGQoewogICAgICAgICAgICAgICAgICAgICAgIHN0dWRlbnRBZGRyZXNzOiB0aGlzLm1pbnQuYWRkciwKICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb2RlOiB0aGlzLm1pbnQubW9kQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICBncmFkZUF0dGFpbmVkOiB0aGlzLm1pbnQuZ3JhZGUsCiAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgIH0pOwogICAgICAgfSwKICAgICAgIGFzeW5jIGdldENvdW50KCkgewogICAgICAgICAgdGhpcy5jbnQubnVtID0gYXdhaXQgdGhpcy5kcml6emxlSW5zdGFuY2UKICAgICAgICAgICAgLmNvbnRyYWN0cwogICAgICAgICAgICAuQ3JlZGVudGlhbAogICAgICAgICAgICAubWV0aG9kcwogICAgICAgICAgICAuc3R1ZGVudEFjYWRDb3VudCh0aGlzLmNudC5hZGRyKQogICAgICAgICAgICAuY2FsbCgpOwogICAgICAgfSwKICAgICAgIGFzeW5jIGRlY3IoKSB7CiAgICAgICAgICAgYXdhaXQgdGhpcy5kcml6emxlSW5zdGFuY2UKICAgICAgICAgICAgIC5jb250cmFjdHMKICAgICAgICAgICAgIC5EdW1teQogICAgICAgICAgICAgLm1ldGhvZHMKICAgICAgICAgICAgIC5kZWNyKCkKICAgICAgICAgICAgIC5zZW5kKCk7CiAgICAgICB9LAogICAgICAgYXN5bmMgaW5jcigpIHsKICAgICAgICAgICBhd2FpdCB0aGlzLmRyaXp6bGVJbnN0YW5jZQogICAgICAgICAgICAgLmNvbnRyYWN0cwogICAgICAgICAgICAgLkR1bW15CiAgICAgICAgICAgICAubWV0aG9kcwogICAgICAgICAgICAgLmluY3IoKQogICAgICAgICAgICAgLnNlbmQoKTsKICAgICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgICAgLy8gYWxsIHRoZXNlIGRhdGEgd2lsbCBzZXJ2ZSBhcyBhcmd1bWVudHMgdG8gb3VyIGNvbnRyYWN0IGNhbGxzCiAgICAgICAgICB2aWV3OiB7CiAgICAgICAgICAgIGFkZHI6ICcnLAogICAgICAgICAgICBtb2RDb2RlOiAnJywKICAgICAgICAgICAgZ3JhZGU6ICcnLAogICAgICAgICAgfSwKICAgICAgICAgIG1pbnQ6IHsKICAgICAgICAgICAgICBhZGRyOiAnJywKICAgICAgICAgICAgICBtb2RDb2RlOiAnJywKICAgICAgICAgICAgICBncmFkZTogJycsCiAgICAgICAgICB9LAogICAgICAgICAgY250OiB7CiAgICAgICAgICAgICAgYWRkcjogJycsCiAgICAgICAgICAgICAgbnVtOiAnJwogICAgICAgICAgfQogICAgICB9CiAgfSwKfQo="},{"version":3,"sources":["InstitutionMint.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InstitutionMint.vue","sourceRoot":"src/components","sourcesContent":["<!--\n// (1) Drizzle template tag to return a contract call\n<drizzle-contract\n    contractName=\"Credential\"\n    method=\"owner\"\n    label=\"Value\"\n/>\n// (2) Drizzle template to call a contract with its arguments\n<drizzle-contract-form\n    contractName=\"Credential\"\n    method=\"mintAcad\"\n    :placeholders=\"['studentAddress','moduleCode','moduleGrade']\"\n/>\n// (3) Drizzle template limitations:\n// - dizzle-contract cannot call viewing functions with arguments!?\n// - drizzle-contract-form cannot add fields or retireve field values; hidden by drizzle abstraction â€“ cannot log into firebase.\n-->\n<template>\n<div>\n    <hdrIns></hdrIns>\n    <br><hr><br>\n    <h1 style=\"color: blue\"> INSTITUTION'S <u> MINTING PAGE </u> </h1>\n    <br><hr><br>\n    <h1> MAIN CONTRACT OWNER ACCOUNT </h1>\n    <drizzle-contract\n        contractName=\"Credential\"\n        method=\"owner\"\n        label=\"Value\"\n    />\n    <br><hr><br>\n    <h1> CURRENT METAMASK ACCOUNT </h1>\n    <!-- this has some big number error in the console-->\n    <!--drizzle-account units=\"Ether\" :precision=\"2\"/-->\n    <p>{{activeAccount}}</p>\n    <p>Balance: {{activeBalance.toString()}} Wei</p>\n    <br><hr><br>\n    <h1> (1) MAIN CONTRACT (TEST) </h1>\n    <h1> MINTING ACAD TOKEN </h1>\n    <drizzle-contract\n        contractName=\"Credential\"\n        method=\"tokenId\"\n        label=\"Number of Acads Minted\"\n    />\n    <!-- START MINT ACAD OPTION (1) -->\n    <!--drizzle-contract-form\n        contractName=\"Credential\"\n        method=\"mintAcad\"\n        :placeholders=\"['studentAddress','moduleCode','moduleGrade']\"\n    /-->\n    <!-- END MINT ACAD OPTION (1) -->\n    <!-- START MINT ACAD OPTION (2) -->\n    <form>\n    <input type=\"text\" v-model=\"mint.addr\" placeholder=\"Insert student address\"/>\n    <input type=\"text\" v-model=\"mint.modCode\" placeholder=\"Insert module code\"/>\n    <input type=\"text\" v-model=\"mint.grade\" placeholder=\"Module Grade\"/>\n    <button v-on:click.prevent=\"mintToken\"> Mint Token </button>\n    </form>\n    <!-- END MINT ACAD OPTION (2) -->\n    <br><hr><br>\n    <h1> (1) MAIN CONTRACT (TEST) </h1>\n    <h1> VIEWING ACAD TOKEN </h1>\n    <form>\n    <input type=\"text\" v-model=\"view.addr\" placeholder=\"Insert student address\"/>\n    <input type=\"text\" v-model=\"view.modCode\" placeholder=\"Insert module code\"/>\n    <button v-on:click.prevent=\"getGrade\"> Get Grade </button>\n    </form>\n    <p> GRADE: {{this.view.grade}}</p> \n    <br><hr><br>\n    <h1> (2) EMBEDDED CONTRACT (TEST) </h1>\n    <h1> COUNTING ACAD TOKEN </h1>\n    <form>\n    <input type=\"text\" v-model=\"cnt.addr\" placeholder=\"Insert student address\"/>\n    <button v-on:click.prevent=\"getCount\"> Get Count </button>\n    </form>\n    <p> NUMBER OF TOKENS: {{this.cnt.num}}</p> \n    <br><hr><br>\n    <h1> (3) SECOND DEPLOYED CONTRACT (TEST) </h1>\n    <h1> DEPLOYED SECOND CONTRACT </h1>\n    <drizzle-contract\n        contractName=\"Dummy\"\n        method=\"counter\"\n        label=\"Current Count\"\n    />\n    <button v-on:click.prevent=\"decr\"> Decrease </button>\n    <button v-on:click.prevent=\"incr\"> Increase </button>\n    <br><hr><br>\n</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport database from '../firebase.js' //to log our data\n\nexport default {\n  name: \"app\",\n  computed: {\n      ...mapGetters(\"accounts\",[\"activeAccount\",\"activeBalance\"]),\n      ...mapGetters(\"drizzle\",[\"drizzleInstance\",\"isDrizzleInitialized\"]),\n  },\n  methods: {\n      async getGrade() {\n          // Retrieve value using \".call()'\n          this.view.grade = await this.drizzleInstance\n            .contracts\n            .Credential\n            .methods\n            .viewGrade(this.view.addr, this.view.modCode)\n            .call(); \n       },\n       async mintToken() {\n           // Retrieve value using \".send()\"\n           await this.drizzleInstance\n             .contracts\n             .Credential\n             .methods\n             .mintAcad(this.mint.addr, this.mint.modCode, this.mint.grade)\n             .send();\n           database.collection(\"students\").doc(this.mint.addr).get().then(doc => {\n               if (!doc.exists) {\n                   database.collection(\"students\").doc(this.mint.addr).set({});\n                   database.collection(\"students\").doc(this.mint.addr).collection(\"acads\").add({\n                       studentAddress: this.mint.addr,\n                       moduleCode: this.mint.modCode,\n                       gradeAttained: this.mint.grade,\n                   });\n               } else {\n                   database.collection(\"students\").doc(this.mint.addr).collection(\"acads\").add({\n                       studentAddress: this.mint.addr,\n                       moduleCode: this.mint.modCode,\n                       gradeAttained: this.mint.grade,\n                   });\n               }\n           });\n       },\n       async getCount() {\n          this.cnt.num = await this.drizzleInstance\n            .contracts\n            .Credential\n            .methods\n            .studentAcadCount(this.cnt.addr)\n            .call();\n       },\n       async decr() {\n           await this.drizzleInstance\n             .contracts\n             .Dummy\n             .methods\n             .decr()\n             .send();\n       },\n       async incr() {\n           await this.drizzleInstance\n             .contracts\n             .Dummy\n             .methods\n             .incr()\n             .send();\n       },\n  },\n  data() {\n      return {\n          // all these data will serve as arguments to our contract calls\n          view: {\n            addr: '',\n            modCode: '',\n            grade: '',\n          },\n          mint: {\n              addr: '',\n              modCode: '',\n              grade: '',\n          },\n          cnt: {\n              addr: '',\n              num: ''\n          }\n      }\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n\n"]}]}