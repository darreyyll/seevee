{"remainingRequest":"/Users/darylkoh/Downloads/seevee/node_modules/babel-loader/lib/index.js!/Users/darylkoh/Downloads/seevee/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/darylkoh/Downloads/seevee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/darylkoh/Downloads/seevee/src/components/InstitutionMint.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/darylkoh/Downloads/seevee/src/components/InstitutionMint.vue","mtime":1617037636101},{"path":"/Users/darylkoh/Downloads/seevee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darylkoh/Downloads/seevee/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/darylkoh/Downloads/seevee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darylkoh/Downloads/seevee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kYXJ5bGtvaC9Eb3dubG9hZHMvc2VldmVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Rhcnlsa29oL0Rvd25sb2Fkcy9zZWV2ZWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGRhdGFiYXNlIGZyb20gJy4uL2ZpcmViYXNlLmpzJzsgLy90byBsb2cgb3VyIGRhdGEKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYXBwIiwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCJhY2NvdW50cyIsIFsiYWN0aXZlQWNjb3VudCIsICJhY3RpdmVCYWxhbmNlIl0pKSwgbWFwR2V0dGVycygiZHJpenpsZSIsIFsiZHJpenpsZUluc3RhbmNlIiwgImlzRHJpenpsZUluaXRpYWxpemVkIl0pKSwKICBtZXRob2RzOiB7CiAgICBkdW1teTogZnVuY3Rpb24gZHVtbXkoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YWJhc2UpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgICAvKgogICAgYXN5bmMgZ2V0R3JhZGUoKSB7CiAgICAgICAgLy8gUmV0cmlldmUgdmFsdWUgdXNpbmcgIi5jYWxsKCknCiAgICAgICAgdGhpcy52aWV3LmdyYWRlID0gYXdhaXQgdGhpcy5kcml6emxlSW5zdGFuY2UKICAgICAgICAgIC5jb250cmFjdHMKICAgICAgICAgIC5DcmVkZW50aWFsCiAgICAgICAgICAubWV0aG9kcwogICAgICAgICAgLnZpZXdHcmFkZSh0aGlzLnZpZXcuYWRkciwgdGhpcy52aWV3Lm1vZENvZGUpCiAgICAgICAgICAuY2FsbCgpOyAKICAgICB9LAogICAgIGFzeW5jIG1pbnRUb2tlbigpIHsKICAgICAgICAgLy8gUmV0cmlldmUgdmFsdWUgdXNpbmcgIi5zZW5kKCkiCiAgICAgICAgIGF3YWl0IHRoaXMuZHJpenpsZUluc3RhbmNlCiAgICAgICAgICAgLmNvbnRyYWN0cwogICAgICAgICAgIC5DcmVkZW50aWFsCiAgICAgICAgICAgLm1ldGhvZHMKICAgICAgICAgICAubWludEFjYWQodGhpcy5taW50LmFkZHIsIHRoaXMubWludC5tb2RDb2RlLCB0aGlzLm1pbnQuZ3JhZGUpCiAgICAgICAgICAgLnNlbmQoKTsKICAgICAgICAgZGF0YWJhc2UuY29sbGVjdGlvbigic3R1ZGVudHMiKS5kb2ModGhpcy5taW50LmFkZHIpLmdldCgpLnRoZW4oZG9jID0+IHsKICAgICAgICAgICAgIGlmICghZG9jLmV4aXN0cykgewogICAgICAgICAgICAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oInN0dWRlbnRzIikuZG9jKHRoaXMubWludC5hZGRyKS5zZXQoe30pOwogICAgICAgICAgICAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oInN0dWRlbnRzIikuZG9jKHRoaXMubWludC5hZGRyKS5jb2xsZWN0aW9uKCJhY2FkcyIpLmFkZCh7CiAgICAgICAgICAgICAgICAgICAgIHN0dWRlbnRBZGRyZXNzOiB0aGlzLm1pbnQuYWRkciwKICAgICAgICAgICAgICAgICAgICAgbW9kdWxlQ29kZTogdGhpcy5taW50Lm1vZENvZGUsCiAgICAgICAgICAgICAgICAgICAgIGdyYWRlQXR0YWluZWQ6IHRoaXMubWludC5ncmFkZSwKICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgZGF0YWJhc2UuY29sbGVjdGlvbigic3R1ZGVudHMiKS5kb2ModGhpcy5taW50LmFkZHIpLmNvbGxlY3Rpb24oImFjYWRzIikuYWRkKHsKICAgICAgICAgICAgICAgICAgICAgc3R1ZGVudEFkZHJlc3M6IHRoaXMubWludC5hZGRyLAogICAgICAgICAgICAgICAgICAgICBtb2R1bGVDb2RlOiB0aGlzLm1pbnQubW9kQ29kZSwKICAgICAgICAgICAgICAgICAgICAgZ3JhZGVBdHRhaW5lZDogdGhpcy5taW50LmdyYWRlLAogICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgfQogICAgICAgICB9KTsKICAgICB9LAogICAgIGFzeW5jIGdldENvdW50KCkgewogICAgICAgIHRoaXMuY250Lm51bSA9IGF3YWl0IHRoaXMuZHJpenpsZUluc3RhbmNlCiAgICAgICAgICAuY29udHJhY3RzCiAgICAgICAgICAuQ3JlZGVudGlhbAogICAgICAgICAgLm1ldGhvZHMKICAgICAgICAgIC5zdHVkZW50QWNhZENvdW50KHRoaXMuY250LmFkZHIpCiAgICAgICAgICAuY2FsbCgpOwogICAgIH0sCiAgICAgYXN5bmMgZGVjcigpIHsKICAgICAgICAgYXdhaXQgdGhpcy5kcml6emxlSW5zdGFuY2UKICAgICAgICAgICAuY29udHJhY3RzCiAgICAgICAgICAgLkR1bW15CiAgICAgICAgICAgLm1ldGhvZHMKICAgICAgICAgICAuZGVjcigpCiAgICAgICAgICAgLnNlbmQoKTsKICAgICB9LAogICAgIGFzeW5jIGluY3IoKSB7CiAgICAgICAgIGF3YWl0IHRoaXMuZHJpenpsZUluc3RhbmNlCiAgICAgICAgICAgLmNvbnRyYWN0cwogICAgICAgICAgIC5EdW1teQogICAgICAgICAgIC5tZXRob2RzCiAgICAgICAgICAgLmluY3IoKQogICAgICAgICAgIC5zZW5kKCk7CiAgICAgfSwKICAgICAqLwoKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gey8vIGFsbCB0aGVzZSBkYXRhIHdpbGwgc2VydmUgYXMgYXJndW1lbnRzIHRvIG91ciBjb250cmFjdCBjYWxscwoKICAgICAgLyoKICAgICAgdmlldzogewogICAgICAgIGFkZHI6ICcnLAogICAgICAgIG1vZENvZGU6ICcnLAogICAgICAgIGdyYWRlOiAnJywKICAgICAgfSwKICAgICAgbWludDogewogICAgICAgICAgYWRkcjogJycsCiAgICAgICAgICBtb2RDb2RlOiAnJywKICAgICAgICAgIGdyYWRlOiAnJywKICAgICAgfSwKICAgICAgY250OiB7CiAgICAgICAgICBhZGRyOiAnJywKICAgICAgICAgIG51bTogJycKICAgICAgfQogICAgICAqLwogICAgfTsKICB9Cn07"},{"version":3,"sources":["InstitutionMint.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,QAAA,MAAA,gBAAA,C,CAAA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,QAAA,kCACA,UAAA,CAAA,UAAA,EAAA,CAAA,eAAA,EAAA,eAAA,CAAA,CADA,GAEA,UAAA,CAAA,SAAA,EAAA,CAAA,iBAAA,EAAA,sBAAA,CAAA,CAFA,CAFA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA/DA,GANA;AAuEA,EAAA,IAvEA,kBAuEA;AACA,WAAA,CACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA,KAAA;AAmBA;AA3FA,CAAA","sourcesContent":["<!--\n// (1) Drizzle template tag to return a contract call\n<drizzle-contract\n    contractName=\"Credential\"\n    method=\"owner\"\n    label=\"Value\"\n/>\n// (2) Drizzle template to call a contract with its arguments\n<drizzle-contract-form\n    contractName=\"Credential\"\n    method=\"mintAcad\"\n    :placeholders=\"['studentAddress','moduleCode','moduleGrade']\"\n/>\n// (3) Drizzle template limitations:\n// - dizzle-contract cannot call viewing functions with arguments!?\n// - drizzle-contract-form cannot add fields or retireve field values; hidden by drizzle abstraction â€“ cannot log into firebase.\n-->\n<template>\n<div>\n    <hdrIns></hdrIns>\n    <br><hr><br>\n    <h1 style=\"color: blue\"> INSTITUTION'S <u> MINTING PAGE </u> </h1>\n    <br><hr><br>\n    <!--h1> MAIN CONTRACT OWNER ACCOUNT </h1>\n    <drizzle-contract\n        contractName=\"Credential\"\n        method=\"owner\"\n        label=\"Value\"\n    /-->\n    <br><hr><br>\n    <h1> CURRENT METAMASK ACCOUNT </h1>\n    <!-- this has some big number error in the console-->\n    <!--drizzle-account units=\"Ether\" :precision=\"2\"/-->\n    <p>{{activeAccount}}</p>\n    <p>Balance: {{activeBalance}} Wei</p>\n    <br><hr><br>\n    <!--h1> (1) MAIN CONTRACT (TEST) </h1>\n    <h1> MINTING ACAD TOKEN </h1>\n    <drizzle-contract\n        contractName=\"Credential\"\n        method=\"tokenId\"\n        label=\"Number of Acads Minted\"\n    />\n    <!- - START MINT ACAD OPTION (1) - ->\n    <!- -drizzle-contract-form\n        contractName=\"Credential\"\n        method=\"mintAcad\"\n        :placeholders=\"['studentAddress','moduleCode','moduleGrade']\"\n    /- ->\n    <!- - END MINT ACAD OPTION (1) - ->\n    <!- - START MINT ACAD OPTION (2) - ->\n    <form>\n    <input type=\"text\" v-model=\"mint.addr\" placeholder=\"Insert student address\"/>\n    <input type=\"text\" v-model=\"mint.modCode\" placeholder=\"Insert module code\"/>\n    <input type=\"text\" v-model=\"mint.grade\" placeholder=\"Module Grade\"/>\n    <button v-on:click.prevent=\"mintToken\"> Mint Token </button>\n    </form>\n    <!- - END MINT ACAD OPTION (2) - ->\n    <br><hr><br>\n    <h1> (1) MAIN CONTRACT (TEST) </h1>\n    <h1> VIEWING ACAD TOKEN </h1>\n    <form>\n    <input type=\"text\" v-model=\"view.addr\" placeholder=\"Insert student address\"/>\n    <input type=\"text\" v-model=\"view.modCode\" placeholder=\"Insert module code\"/>\n    <button v-on:click.prevent=\"getGrade\"> Get Grade </button>\n    </form>\n    <p> GRADE: {{this.view.grade}}</p> \n    <br><hr><br>\n    <h1> (2) EMBEDDED CONTRACT (TEST) </h1>\n    <h1> COUNTING ACAD TOKEN </h1>\n    <form>\n    <input type=\"text\" v-model=\"cnt.addr\" placeholder=\"Insert student address\"/>\n    <button v-on:click.prevent=\"getCount\"> Get Count </button>\n    </form>\n    <p> NUMBER OF TOKENS: {{this.cnt.num}}</p> \n    <br><hr><br>\n    <h1> (3) SECOND DEPLOYED CONTRACT (TEST) </h1>\n    <h1> DEPLOYED SECOND CONTRACT </h1>\n    <drizzle-contract\n        contractName=\"Dummy\"\n        method=\"counter\"\n        label=\"Current Count\"\n    />\n    <button v-on:click.prevent=\"decr\"> Decrease </button>\n    <button v-on:click.prevent=\"incr\"> Increase </button>\n    <br><hr><br-->\n</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport database from '../firebase.js' //to log our data\n\nexport default {\n  name: \"app\",\n  computed: {\n      ...mapGetters(\"accounts\",[\"activeAccount\",\"activeBalance\"]),\n      ...mapGetters(\"drizzle\",[\"drizzleInstance\",\"isDrizzleInitialized\"]),\n  },\n  methods: {\n      async dummy() {\n          console.log(database);\n      },\n      /*\n      async getGrade() {\n          // Retrieve value using \".call()'\n          this.view.grade = await this.drizzleInstance\n            .contracts\n            .Credential\n            .methods\n            .viewGrade(this.view.addr, this.view.modCode)\n            .call(); \n       },\n       async mintToken() {\n           // Retrieve value using \".send()\"\n           await this.drizzleInstance\n             .contracts\n             .Credential\n             .methods\n             .mintAcad(this.mint.addr, this.mint.modCode, this.mint.grade)\n             .send();\n           database.collection(\"students\").doc(this.mint.addr).get().then(doc => {\n               if (!doc.exists) {\n                   database.collection(\"students\").doc(this.mint.addr).set({});\n                   database.collection(\"students\").doc(this.mint.addr).collection(\"acads\").add({\n                       studentAddress: this.mint.addr,\n                       moduleCode: this.mint.modCode,\n                       gradeAttained: this.mint.grade,\n                   });\n               } else {\n                   database.collection(\"students\").doc(this.mint.addr).collection(\"acads\").add({\n                       studentAddress: this.mint.addr,\n                       moduleCode: this.mint.modCode,\n                       gradeAttained: this.mint.grade,\n                   });\n               }\n           });\n       },\n       async getCount() {\n          this.cnt.num = await this.drizzleInstance\n            .contracts\n            .Credential\n            .methods\n            .studentAcadCount(this.cnt.addr)\n            .call();\n       },\n       async decr() {\n           await this.drizzleInstance\n             .contracts\n             .Dummy\n             .methods\n             .decr()\n             .send();\n       },\n       async incr() {\n           await this.drizzleInstance\n             .contracts\n             .Dummy\n             .methods\n             .incr()\n             .send();\n       },\n       */\n  },\n  data() {\n      return {\n          // all these data will serve as arguments to our contract calls\n          /*\n          view: {\n            addr: '',\n            modCode: '',\n            grade: '',\n          },\n          mint: {\n              addr: '',\n              modCode: '',\n              grade: '',\n          },\n          cnt: {\n              addr: '',\n              num: ''\n          }\n          */\n      }\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n\n"],"sourceRoot":"src/components"}]}