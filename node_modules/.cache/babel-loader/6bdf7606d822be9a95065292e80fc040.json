{"remainingRequest":"/Users/darylkoh/Downloads/seevee/node_modules/babel-loader/lib/index.js!/Users/darylkoh/Downloads/seevee/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/darylkoh/Downloads/seevee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/darylkoh/Downloads/seevee/src/components/InstitutionView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/darylkoh/Downloads/seevee/src/components/InstitutionView.vue","mtime":1617101741385},{"path":"/Users/darylkoh/Downloads/seevee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darylkoh/Downloads/seevee/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/darylkoh/Downloads/seevee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darylkoh/Downloads/seevee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kYXJ5bGtvaC9Eb3dubG9hZHMvc2VldmVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Rhcnlsa29oL0Rvd25sb2Fkcy9zZWV2ZWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgZGF0YWJhc2UgZnJvbSAnLi4vZmlyZWJhc2UuanMnOyAvL3RvIGxvZyBvdXIgZGF0YQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhcHAiLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoImFjY291bnRzIiwgWyJhY3RpdmVBY2NvdW50IiwgImFjdGl2ZUJhbGFuY2UiXSkpLCBtYXBHZXR0ZXJzKCJkcml6emxlIiwgWyJkcml6emxlSW5zdGFuY2UiLCAiaXNEcml6emxlSW5pdGlhbGl6ZWQiXSkpLAogIG1ldGhvZHM6IHsKICAgIHJldHJpZXZlQ2xhaW06IGZ1bmN0aW9uIHJldHJpZXZlQ2xhaW0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBzLCBkYXQsIGhzaCwgb2JqOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSB0cnVlOyAvL3Jlc2V0CgogICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gJyc7IC8vcmVzZXQKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5kcml6emxlSW5zdGFuY2UuY29udHJhY3RzLkNyZWRlbnRpYWwubWV0aG9kcy5nZXRTdGF0dXMoX3RoaXMuY2xhaW1JZCkuY2FsbCgpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgLy9jYWxsIGhhcyBubyAidGhlbiIhPwogICAgICAgICAgICAgICAgICBfdGhpcy5zdWNjZXNzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHMgPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9ICJyZWplY3RlZCI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHMgPT0gIjEiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9ICJ2ZXJpZmllZCI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHMgPT0gIjIiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9ICJwZW5kaW5nIjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocyA9PSAiMyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gInJldm9rZWQiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gImVycm9yIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5zdWNjZXNzICYmIF90aGlzLmV4cCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5kcml6emxlSW5zdGFuY2UuY29udHJhY3RzLkNyZWRlbnRpYWwubWV0aG9kcy52aWV3Q2xhaW0oX3RoaXMuY2xhaW1JZCkuY2FsbCgpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBoc2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFiYXNlLmNvbGxlY3Rpb24oInN0dWRlbnRzIikuZG9jKF90aGlzLnVzZXIpLmNvbGxlY3Rpb24oImV4cCIpLmRvYyhoc2gpLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgZGF0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIG9iaiA9IGRhdC5kYXRhKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnN1Y2Nlc3MgJiYgIV90aGlzLmV4cCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZHJpenpsZUluc3RhbmNlLmNvbnRyYWN0cy5DcmVkZW50aWFsLm1ldGhvZHMudmlld0NsYWltKF90aGlzLmNsYWltSWQpLmNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIGhzaCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YWJhc2UuY29sbGVjdGlvbigic3R1ZGVudHMiKS5kb2MoX3RoaXMudXNlcikuY29sbGVjdGlvbigiYWNhZHMiKS5kb2MoaHNoKS5nZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIGRhdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBvYmogPSBkYXQuZGF0YSgpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgX3RoaXMuYXJyID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXJyLnB1c2goZmllbGQudG9TdHJpbmcoKSArICI6ICIgKyBvYmpbZmllbGRdKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFyci5zb3J0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMjUpOwogICAgICAgICAgICAgICAgX3RoaXMuc3VjY2VzcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDM2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syNSwgMzJdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIGFsbCB0aGVzZSBkYXRhIHdpbGwgc2VydmUgYXMgYXJndW1lbnRzIHRvIG91ciBjb250cmFjdCBjYWxscwogICAgICBjbGFpbUlkOiAnJywKICAgICAgc3VjY2VzczogZmFsc2UsCiAgICAgIHN0YXR1czogJycsCiAgICAgIGV4cDogZmFsc2UsCiAgICAgIGFycjogW10sCiAgICAgIHVzZXI6ICcnCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["InstitutionView.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div>\n    <hdrIns></hdrIns>\n    <br><hr>\n    <p> <b> View Credential </b> </p>\n    <form>\n        <label> Credential ID: </label>\n        <input type=\"number\" v-model=\"claimId\" placeholder=\"Credential ID\"/> <br>\n        <label> Candidate: </label>\n        <input type=\"text\" v-model=\"user\" placeholder=\"Candidate Address\"/> <br>\n        <label for=\"can\"> Academic </label>\n        <input type=\"radio\" name=\"type\" v-model=\"exp\" v-bind:value=\"false\"> <br>\n        <label for=\"ins\"> Experience </label>\n        <input type=\"radio\" name=\"type\" v-model=\"exp\" v-bind:value=\"true\"> <br> \n        <br>\n        <button v-on:click.prevent=\"retrieveClaim\"> Retrieve Claim </button>\n    </form>\n    <hr>\n    <div v-if=\"this.success\">\n        <p> Credential status is <b><u> {{this.status}}.</u></b> </p>\n        <div class=\"scorecard\">\n            <p> <b> <i> Details: </i> </b> </p>\n            <p v-for=\"field in arr\" v-bind:key=\"field\"> {{field}} </p>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport database from '../firebase.js' //to log our data\n\nexport default {\n  name: \"app\",\n  computed: {\n      ...mapGetters(\"accounts\",[\"activeAccount\",\"activeBalance\"]),\n      ...mapGetters(\"drizzle\",[\"drizzleInstance\",\"isDrizzleInitialized\"]),\n  },\n  methods: {\n      async retrieveClaim() {\n          this.success = true; //reset\n          this.status = ''; //reset\n          var s = await this.drizzleInstance\n            .contracts\n            .Credential\n            .methods\n            .getStatus(this.claimId)\n            .call().catch((err) => { //call has no \"then\"!?\n                this.success = false;\n                console.log(err);\n            });\n          if (s==\"0\") {\n              this.status = \"rejected\";\n          } else if (s==\"1\") {\n              this.status = \"verified\";\n          } else if (s==\"2\") {\n              this.status = \"pending\";\n          } else if (s==\"3\") {\n              this.status = \"revoked\";\n          } else {\n              this.status = \"error\";\n          }\n          var dat;\n          var hsh;\n          var obj;\n          if (this.success && this.exp) { //implies document exist to query our db\n              hsh = await this.drizzleInstance.contracts.Credential.methods.viewClaim(this.claimId).call();\n              dat = await database.collection(\"students\").doc(this.user).collection(\"exp\").doc(hsh).get();\n              obj = dat.data();\n          } else if (this.success && !this.exp) {\n              hsh = await this.drizzleInstance.contracts.Credential.methods.viewClaim(this.claimId).call();\n              dat = await database.collection(\"students\").doc(this.user).collection(\"acads\").doc(hsh).get();\n              obj = dat.data();\n          }\n          this.arr = [];\n          try {\n              await Object.keys(obj).forEach(field => {\n                  return this.arr.push(field.toString() + \": \" + obj[field]);\n              });\n              await this.arr.sort();\n          } catch(err) {\n              this.success = false;\n              console.log(err);\n          }\n      },\n  },\n  data() {\n      return {\n          // all these data will serve as arguments to our contract calls\n          claimId: '',\n          success: false,\n          status: '',\n          exp: false,\n          arr: [],\n          user: '',\n      }\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n\n"],"sourceRoot":"src/components"}]}